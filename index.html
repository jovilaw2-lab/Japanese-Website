<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Japanese Flashcard Learning</title>
    <style>
        :root { --primary: #2c3e50; --accent: #e74c3c; --bg: #f0f2f5; }
        body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; background: var(--bg); margin: 0; padding: 20px; }
        
        /* 章節切換區 */
        .chapter-container { margin-bottom: 30px; display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
        .chapter-btn { padding: 10px 20px; background: white; border: 2px solid var(--primary); border-radius: 25px; cursor: pointer; transition: 0.3s; font-weight: bold; }
        .chapter-btn.active { background: var(--primary); color: white; }

        /* 卡片設計 */
        .card {
            background: white;
            width: 350px; height: 250px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            cursor: pointer; transition: transform 0.1s;
        }
        .card:active { transform: scale(0.98); }

        #word-display { font-size: 72px; font-weight: bold; color: var(--primary); margin: 0; text-align: center; padding: 0 10px; }
        
        #romaji-display { 
            font-size: 24px; color: var(--accent); margin-top: 20px;
            opacity: 0; transition: opacity 0.2s;
        }
        #romaji-display.visible { opacity: 1; }

        .controls { display: flex; flex-direction: column; align-items: center; }
        .next-btn { margin-top: 40px; padding: 12px 30px; font-size: 18px; background: var(--primary); color: white; border: none; border-radius: 8px; cursor: pointer; }
        .next-btn:hover { opacity: 0.9; }
    </style>
</head>
<body>

    <div class="chapter-container" id="chapter-menu">
        </div>

    <div class="card" onclick="showAnswer()">
        <p id="word-display">Ready?</p>
        <p id="romaji-display">---</p>
    </div>

    <div class="controls">
        <button class="next-btn" onclick="nextWord()">Next Word →</button>
    </div>

    <script>
        // --- 2. 重新架構的資料庫 (Chapter 為單位) ---
        const chapters = {
            "Chapter 1: 五十音": [
{ jp: "あ", ro: "a" },
{ jp: "い", ro: "i" },
{ jp: "う", ro: "u" },
{ jp: "え", ro: "e" },
{ jp: "お", ro: "o" },
{ jp: "か", ro: "ka" },
{ jp: "き", ro: "ki" },
{ jp: "く", ro: "ku" },
{ jp: "け", ro: "ke" },
{ jp: "こ", ro: "ko" },
{ jp: "さ", ro: "sa" },
{ jp: "し", ro: "shi" },
{ jp: "す", ro: "su" },
{ jp: "せ", ro: "se" },
{ jp: "そ", ro: "so" },
{ jp: "た", ro: "ta" },
{ jp: "ち", ro: "chi" },
{ jp: "つ", ro: "tsu" },
{ jp: "て", ro: "te" },
{ jp: "と", ro: "to" },
{ jp: "な", ro: "na" },
{ jp: "に", ro: "ni" },
{ jp: "ぬ", ro: "nu" },
{ jp: "ね", ro: "ne" },
{ jp: "の", ro: "no" },
{ jp: "は", ro: "ha" },
{ jp: "ひ", ro: "hi" },
{ jp: "ふ", ro: "fu" },
{ jp: "へ", ro: "he" },
{ jp: "ほ", ro: "ho" },
{ jp: "ま", ro: "ma" },
{ jp: "み", ro: "mi" },
{ jp: "む", ro: "mu" },
{ jp: "め", ro: "me" },
{ jp: "も", ro: "mo" },
{ jp: "や", ro: "ya" },
{ jp: "ゆ", ro: "yu" },
{ jp: "よ", ro: "yo" },
{ jp: "ら", ro: "ra" },
{ jp: "り", ro: "ri" },
{ jp: "る", ro: "ru" },
{ jp: "れ", ro: "re" },
{ jp: "ろ", ro: "ro" },
{ jp: "わ", ro: "wa" },
{ jp: "を", ro: "wo" },
{ jp: "ん", ro: "n" },
{ jp: "ア", ro: "a" },
{ jp: "イ", ro: "i" },
{ jp: "ウ", ro: "u" },
{ jp: "エ", ro: "e" },
{ jp: "オ", ro: "o" },
{ jp: "カ", ro: "ka" },
{ jp: "キ", ro: "ki" },
{ jp: "ク", ro: "ku" },
{ jp: "ケ", ro: "ke" },
{ jp: "コ", ro: "ko" },
{ jp: "サ", ro: "sa" },
{ jp: "シ", ro: "shi" },
{ jp: "ス", ro: "su" },
{ jp: "セ", ro: "se" },
{ jp: "ソ", ro: "so" },
{ jp: "タ", ro: "ta" },
{ jp: "チ", ro: "chi" },
{ jp: "ツ", ro: "tsu" },
{ jp: "テ", ro: "te" },
{ jp: "ト", ro: "to" },
{ jp: "ナ", ro: "na" },
{ jp: "ニ", ro: "ni" },
{ jp: "ヌ", ro: "nu" },
{ jp: "ネ", ro: "ne" },
{ jp: "ノ", ro: "no" },
{ jp: "ハ", ro: "ha" },
{ jp: "ヒ", ro: "hi" },
{ jp: "フ", ro: "fu" },
{ jp: "ヘ", ro: "he" },
{ jp: "ホ", ro: "ho" },
{ jp: "マ", ro: "ma" },
{ jp: "ミ", ro: "mi" },
{ jp: "ム", ro: "mu" },
{ jp: "メ", ro: "me" },
{ jp: "モ", ro: "mo" },
{ jp: "ヤ", ro: "ya" },
{ jp: "ユ", ro: "yu" },
{ jp: "ヨ", ro: "yo" },
{ jp: "ラ", ro: "ra" },
{ jp: "リ", ro: "ri" },
{ jp: "ル", ro: "ru" },
{ jp: "レ", ro: "re" },
{ jp: "ロ", ro: "ro" },
{ jp: "ワ", ro: "wa" },
{ jp: "ヲ", ro: "wo" },
{ jp: "ン", ro: "n" },

            ],
            "Chapter 2: 濁音，半濁音和拗音 ": [
{ jp: "が", ro: "ga" },
{ jp: "ぎ", ro: "gi" },
{ jp: "ぐ", ro: "gu" },
{ jp: "げ", ro: "ge" },
{ jp: "ご", ro: "go" },
{ jp: "ざ", ro: "za" },
{ jp: "じ", ro: "ji" },
{ jp: "ず", ro: "zu" },
{ jp: "ぜ", ro: "ze" },
{ jp: "ぞ", ro: "zo" },
{ jp: "だ", ro: "da" },
{ jp: "ぢ", ro: "ji" },
{ jp: "づ", ro: "zu" },
{ jp: "で", ro: "de" },
{ jp: "ど", ro: "do" },
{ jp: "ば", ro: "ba" },
{ jp: "び", ro: "bi" },
{ jp: "ぶ", ro: "bu" },
{ jp: "べ", ro: "be" },
{ jp: "ぼ", ro: "bo" },
{ jp: "ぱ", ro: "pa" },
{ jp: "ぴ", ro: "pi" },
{ jp: "ぷ", ro: "pu" },
{ jp: "ぺ", ro: "pe" },
{ jp: "ぽ", ro: "po" },
{ jp: "きゃ", ro: "kya" },
{ jp: "きゅ", ro: "kyu" },
{ jp: "きょ", ro: "kyo" },
{ jp: "しゃ", ro: "sha" },
{ jp: "しゅ", ro: "shu" },
{ jp: "しょ", ro: "sho" },
{ jp: "ちゃ", ro: "cha" },
{ jp: "ちゅ", ro: "chu" },
{ jp: "ちょ", ro: "cho" },
{ jp: "にゃ", ro: "nya" },
{ jp: "にゅ", ro: "nyu" },
{ jp: "にょ", ro: "nyo" },
{ jp: "ひゃ", ro: "hya" },
{ jp: "ひゅ", ro: "hyu" },
{ jp: "ひょ", ro: "hyo" },
{ jp: "みゃ", ro: "mya" },
{ jp: "みゅ", ro: "myu" },
{ jp: "みょ", ro: "myo" },
{ jp: "りゃ", ro: "rya" },
{ jp: "りゅ", ro: "ryu" },
{ jp: "りょ", ro: "ryo" },
{ jp: "ぎゃ", ro: "gya" },
{ jp: "ぎゅ", ro: "gyu" },
{ jp: "ぎょ", ro: "gyo" },
{ jp: "じゃ", ro: "ja" },
{ jp: "じゅ", ro: "ju" },
{ jp: "じょ", ro: "jo" },
{ jp: "びゃ", ro: "bya" },
{ jp: "びゅ", ro: "byu" },
{ jp: "びょ", ro: "byo" },
{ jp: "ぴゃ", ro: "pya" },
{ jp: "ぴゅ", ro: "pyu" },
{ jp: "ぴょ", ro: "pyo" },
            ]
        };

        let currentChapter = "Chapter 1: 五十音";
        let currentWord = {};

        // 初始化章節選單
        function initMenu() {
            const menu = document.getElementById('chapter-menu');
            menu.innerHTML = ""; // 清空
            Object.keys(chapters).forEach(name => {
                const btn = document.createElement('button');
                btn.innerText = name;
                btn.className = `chapter-btn ${name === currentChapter ? 'active' : ''}`;
                btn.onclick = () => selectChapter(name);
                menu.appendChild(btn);
            });
        }

        function selectChapter(name) {
            currentChapter = name;
            initMenu(); // 重新渲染按鈕狀態
            nextWord(); // 切換章節後自動跳下一題
        }

        function nextWord() {
            const db = chapters[currentChapter];
            if (!db || db.length === 0) return;
            
            currentWord = db[Math.floor(Math.random() * db.length)];
            
            document.getElementById('word-display').innerText = currentWord.jp;
            document.getElementById('romaji-display').innerText = currentWord.ro;
            document.getElementById('romaji-display').classList.remove('visible');
        }

        function showAnswer() {
            document.getElementById('romaji-display').classList.add('visible');
        }

        window.onload = () => {
            initMenu();
            nextWord();
        };
    </script>
</body>
</html>